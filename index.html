<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> IvÃ¡n Kim Taveras </title>

    <!-- Theme configuration -->
    <script>
      if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark')
      } else {
        document.documentElement.classList.remove('dark')
      }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      tailwind.config = {
        darkMode: 'class'
      }
    </script>

    <!-- Icon -->

    <link rel="icon" type="image/png" href="icon.PNG">
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* Base styles */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom transition for dark mode */
        .theme-transition {
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        /* Styles for the modal */
        .modal-backdrop {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
    </style>
    <script>
        // This script needs to be in the <head> to prevent a flash of the wrong theme.
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          document.documentElement.classList.add('dark')
        } else {
          document.documentElement.classList.remove('dark')
        }
    </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 theme-transition">

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-sm z-10">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-xl font-bold text-gray-900 dark:text-white whitespace-nowrap"> </h1>
                <button id="theme-toggle-btn" aria-label="Toggle theme" class="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 dark:focus:ring-offset-gray-900 focus:ring-blue-500">
                    <svg class="h-6 w-6 block dark:hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.95-4.243l-1.591 1.591M5.25 12H3m4.243-4.95l-1.591-1.591M12 4.5a7.5 7.5 0 100 15 7.5 7.5 0 000-15z" /></svg>
                    <svg class="h-6 w-6 hidden dark:block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25c0 5.385 4.365 9.75 9.75 9.75 2.572 0 4.92-.99 6.697-2.648z" /></svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Under Construction Banner -->
    <div class="bg-yellow-300 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200 text-center py-2 fixed top-16 left-0 right-0 z-10">
        <p class="font-semibold">ðŸš§ This website is currently under construction. ðŸš§</p>
    </div>

    <!-- Main Content -->
    <main class="pt-32 pb-12">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12">
                
                <!-- Left Column: Photo and Info -->
                <aside class="md:col-span-1">
                    <div class="sticky top-32">
                        <img class="rounded-lg shadow-lg w-full h-auto object-cover" src="https://placehold.co/400x400/a0aec0/ffffff?text=Your+Photo" alt="A professional photograph of IvÃ¡n Jomin Kim Taveras" onerror="this.onerror=null;this.src='https://placehold.co/400x400/e2e8f0/4a5568?text=Image+Not+Found';">
                        <div class="mt-6">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">IvÃ¡n Jomin Kim Taveras</h2>
                            <p class="mt-1 text-gray-600 dark:text-gray-400">PhD Candidate in Economics</p>
                            <p class="mt-1 text-gray-600 dark:text-gray-400">Bocconi University</p>
                            <div class="mt-6 flex flex-col space-y-3">
                                <a href="your_cv_link.pdf" target="_blank" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm">
                                    <svg class="h-5 w-5 mr-2 -ml-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.364 6.364l-3.182 3.182a.75.75 0 01-1.06-1.061l3.182-3.182a3 3 0 000-4.243z" clip-rule="evenodd" /></svg>
                                    View CV
                                </a>
                                <a href="mailto:ivan.kimtaveras@unibocconi.it" class="flex items-center text-blue-600 dark:text-blue-400 hover:underline"><svg class="h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M3 4a2 2 0 00-2 2v1.161l8.441 4.221a1.25 1.25 0 001.118 0L19 7.162V6a2 2 0 00-2-2H3z" /><path d="M19 8.839l-7.77 3.885a2.75 2.75 0 01-2.46 0L1 8.839V14a2 2 0 002 2h14a2 2 0 002-2V8.839z" /></svg>Email</a>
                                <a href="https://x.com/IvanKimT" target="_blank" class="flex items-center text-blue-600 dark:text-blue-400 hover:underline"><svg class="h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>@IvanKimT</a>
                            </div>
                        </div>
                    </div>
                </aside>

                <!-- Right Column: Bio and Research -->
                <div class="md:col-span-2 space-y-12">
                    
                    <section id="bio">
                        <h2 class="text-2xl font-bold border-b-2 border-blue-500 pb-2 mb-4 text-gray-900 dark:text-white">About Me</h2>
                        <div id="bio-content" class="space-y-4 text-lg text-gray-700 dark:text-gray-300">
                            <p>
                                My research investigates how vulnerable populations in the developing world are affected by and adapt to the consequences of climate change, with a focus on agriculture and health. 
                            </p>
                            <p>
                                My Job Market Paper examines how shifts in the timing of the rainy season impact crop yields and household welfare in Sub-Saharan Africa, revealing the limits of low-cost adaptation strategies in the face of informational barriers like false onsets. My research on health connects climate change to human well-being by establishing a causal link between ocean acidification, the viability of small-scale fisheries, and neonatal mortality, quantifying the historical and future health burden of this understudied environmental stressor.
                            </p>
                            <p class="font-bold">
                                I am on the job market in 2025-2026.
                            </p>
                        </div>
                    </section>
                    
                    <section id="working-papers">
                        <h2 class="text-2xl font-bold border-b-2 border-blue-500 pb-2 mb-6 text-gray-900 dark:text-white">Working Papers</h2>
                        <div class="space-y-8">
                            <article id="paper-1">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">"The Title of Your Amazing Working Paper"</h3>
                                <p class="mt-2 text-gray-700 dark:text-gray-300 paper-abstract">
                                    This is a brief, one-to-three sentence abstract of your paper. It should clearly state the main research question, the methodology, and the key finding. Keep it concise and impactful.
                                </p>
                                <div class="mt-3 flex items-center gap-4">
                                    <a href="#" class="text-blue-600 dark:text-blue-400 hover:underline font-medium">Download Paper (PDF)</a>
                                    <button onclick="getSimplifiedAbstract('paper-1')" class="text-sm text-blue-600 dark:text-blue-400 hover:underline">âœ¨ Explain in simple terms</button>
                                </div>
                            </article>
                        </div>
                    </section>

                    <section id="wip">
                        <h2 class="text-2xl font-bold border-b-2 border-blue-500 pb-2 mb-6 text-gray-900 dark:text-white">Work in Progress</h2>
                        <div id="wip-list" class="space-y-6">
                            <article>
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">"Title of a Project Under Development"</h3>
                                <p class="mt-1 text-gray-600 dark:text-gray-400">with Co-author Name (if any)</p>
                            </article>
                            <article>
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">"Another Exciting Research Idea"</h3>
                            </article>
                        </div>
                        <div class="mt-6">
                            <button onclick="getResearchIdeas()" class="inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 shadow-sm">
                                âœ¨ Suggest related ideas
                            </button>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-100 dark:bg-gray-800">
        <div class="max-w-5xl mx-auto py-4 px-4 sm:px-6 lg:px-8 text-center text-gray-500 dark:text-gray-400">
            <p>&copy; <span id="year"></span> IvÃ¡n Jomin Kim Taveras. Last updated: August 2025.</p>
        </div>
    </footer>

    <!-- Gemini API Results Modal -->
    <div id="gemini-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <!-- Backdrop -->
        <div class="modal-backdrop fixed inset-0 bg-black/50" onclick="closeModal()"></div>
        <!-- Content -->
        <div class="modal-content w-full max-w-2xl bg-white dark:bg-gray-800 rounded-lg shadow-xl transform scale-95">
            <div class="p-6">
                <div class="flex items-start justify-between">
                    <h3 id="modal-title" class="text-xl font-semibold text-gray-900 dark:text-white"></h3>
                    <button onclick="closeModal()" class="p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700">
                        <svg class="h-6 w-6 text-gray-600 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <div id="modal-body" class="mt-4 text-gray-700 dark:text-gray-300 space-y-4">
                    <!-- Content will be injected here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- All Interactive Logic ---

        // --- Theme Toggle ---
        function toggleTheme() {
            const isDark = document.documentElement.classList.toggle('dark');
            localStorage.theme = isDark ? 'dark' : 'light';
        }
        // Attach listener to the theme toggle button.
        document.getElementById('theme-toggle-btn').addEventListener('click', toggleTheme);
        
        // --- Set Footer Year ---
        document.getElementById('year').textContent = new Date().getFullYear();

        // --- Gemini API Integration ---
        const modal = document.getElementById('gemini-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');

        function showModal(title, content) {
            modalTitle.textContent = title;
            modalBody.innerHTML = content;
            modal.classList.remove('hidden');
            // Animate in
            setTimeout(() => {
                modal.querySelector('.modal-backdrop').classList.add('opacity-100');
                modal.querySelector('.modal-content').classList.remove('scale-95');
            }, 10);
        }

        function closeModal() {
            modal.querySelector('.modal-backdrop').classList.remove('opacity-100');
            modal.querySelector('.modal-content').classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }
        
        // Generic function to call Gemini API with exponential backoff
        async function callGemini(prompt, maxRetries = 3) {
            const apiKey = ""; // This will be handled by the environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            
            let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
            const payload = { contents: chatHistory };

            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content.parts.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        throw new Error("Invalid response structure from API.");
                    }

                } catch (error) {
                    if (i === maxRetries - 1) {
                        console.error("API call failed after multiple retries:", error);
                        return "Sorry, I couldn't get a response at the moment. Please try again later.";
                    }
                    const delay = Math.pow(2, i) * 1000; // 1s, 2s, 4s
                    await new Promise(res => setTimeout(res, delay));
                }
            }
        }

        // Feature 1: Explain Abstract
        async function getSimplifiedAbstract(paperId) {
            const paperElement = document.getElementById(paperId);
            const abstract = paperElement.querySelector('.paper-abstract').textContent.trim();
            const paperTitle = paperElement.querySelector('h3').textContent;

            const prompt = `Explain the following economics paper abstract in simple, accessible terms for a non-expert. Focus on the core research question, the method, and the key finding. Keep it concise and clear.

            Paper Title: ${paperTitle}
            Abstract: "${abstract}"`;

            showModal('âœ¨ Simplified Explanation', '<p>Thinking...</p>');
            const explanation = await callGemini(prompt);
            showModal('âœ¨ Simplified Explanation', `<p>${explanation.replace(/\n/g, '<br>')}</p>`);
        }

        // Feature 2: Suggest Research Ideas
        async function getResearchIdeas() {
            const bioText = document.getElementById('bio-content').textContent.trim();
            const wipElements = document.querySelectorAll('#wip-list h3');
            const wipTitles = Array.from(wipElements).map(el => el.textContent.trim()).join(', ');

            const prompt = `I am an economics PhD student. Here is my bio: "${bioText}".
            My current works in progress are: "${wipTitles}".

            Based on my profile, suggest 3-4 novel and interesting research questions I could explore next. Frame them as potential paper titles. Be creative and relevant to my fields.`;
            
            showModal('âœ¨ Research Ideas', '<p>Generating ideas...</p>');
            const ideas = await callGemini(prompt);
            showModal('âœ¨ Research Ideas', `<p>${ideas.replace(/\n/g, '<br>')}</p>`);
        }

    </script>
</body>
</html>






